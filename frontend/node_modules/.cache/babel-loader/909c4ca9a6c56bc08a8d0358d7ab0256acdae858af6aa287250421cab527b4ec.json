{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reeri\\\\OneDrive\\\\Desktop\\\\CSM\\\\frontend\\\\src\\\\components\\\\CertificateViewer.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CertificateViewer = ({\n  certificate,\n  onClose,\n  userRole\n}) => {\n  var _certificate$fileType;\n  const getViewUrl = () => {\n    const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\n    return `${baseUrl}/certificates/${certificate.certificateId}/view`;\n  };\n  const isPDF = certificate.fileType === 'application/pdf';\n  const isImage = (_certificate$fileType = certificate.fileType) === null || _certificate$fileType === void 0 ? void 0 : _certificate$fileType.startsWith('image/');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal certificate-viewer-modal\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content certificate-viewer-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"certificate-viewer-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: certificate.certificateName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"close-btn\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"certificate-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Student:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 14\n          }, this), \" \", certificate.studentName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-badge status-${certificate.status.toLowerCase()}`,\n            children: certificate.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Uploaded:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 14\n          }, this), \" \", new Date(certificate.uploadDate).toLocaleDateString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), certificate.staffRemarks && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Remarks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 16\n          }, this), \" \", certificate.staffRemarks]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"certificate-preview\",\n        children: isPDF ? /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: getViewUrl(),\n          title: \"Certificate Preview\",\n          width: \"100%\",\n          height: \"600px\",\n          style: {\n            border: 'none',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this) : isImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: getViewUrl(),\n          alt: \"Certificate\",\n          style: {\n            maxWidth: '100%',\n            maxHeight: '600px',\n            objectFit: 'contain',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"unsupported-format\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Preview not available for this file type.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File type: \", certificate.fileType]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/api/${userRole.toLowerCase()}/certificates/${certificate.certificateId}/download`,\n            className: \"btn btn-primary\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"Download to View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"certificate-viewer-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/api/${userRole.toLowerCase()}/certificates/${certificate.certificateId}/download`,\n          className: \"btn btn-primary\",\n          download: true,\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"btn\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n_c = CertificateViewer;\nexport default CertificateViewer;\nvar _c;\n$RefreshReg$(_c, \"CertificateViewer\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","CertificateViewer","certificate","onClose","userRole","_certificate$fileType","getViewUrl","baseUrl","certificateId","isPDF","fileType","isImage","startsWith","className","children","certificateName","fileName","_jsxFileName","lineNumber","columnNumber","onClick","studentName","status","toLowerCase","Date","uploadDate","toLocaleDateString","staffRemarks","src","title","width","height","style","border","borderRadius","alt","maxWidth","maxHeight","objectFit","href","target","rel","download","_c","$RefreshReg$"],"sources":["C:/Users/Reeri/OneDrive/Desktop/CSM/frontend/src/components/CertificateViewer.js"],"sourcesContent":["import React from 'react';\r\n\r\nconst CertificateViewer = ({ certificate, onClose, userRole }) => {\r\n  const getViewUrl = () => {\r\n    const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\r\n    return `${baseUrl}/certificates/${certificate.certificateId}/view`;\r\n  };\r\n\r\n  const isPDF = certificate.fileType === 'application/pdf';\r\n  const isImage = certificate.fileType?.startsWith('image/');\r\n\r\n  return (\r\n    <div className=\"modal certificate-viewer-modal\">\r\n      <div className=\"modal-content certificate-viewer-content\">\r\n        <div className=\"certificate-viewer-header\">\r\n          <h3>{certificate.certificateName}</h3>\r\n          <button onClick={onClose} className=\"close-btn\">&times;</button>\r\n        </div>\r\n        \r\n        <div className=\"certificate-info\">\r\n          <p><strong>Student:</strong> {certificate.studentName}</p>\r\n          <p><strong>Status:</strong> \r\n            <span className={`status-badge status-${certificate.status.toLowerCase()}`}>\r\n              {certificate.status}\r\n            </span>\r\n          </p>\r\n          <p><strong>Uploaded:</strong> {new Date(certificate.uploadDate).toLocaleDateString()}</p>\r\n          {certificate.staffRemarks && (\r\n            <p><strong>Remarks:</strong> {certificate.staffRemarks}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"certificate-preview\">\r\n          {isPDF ? (\r\n            <iframe\r\n              src={getViewUrl()}\r\n              title=\"Certificate Preview\"\r\n              width=\"100%\"\r\n              height=\"600px\"\r\n              style={{ border: 'none', borderRadius: '5px' }}\r\n            />\r\n          ) : isImage ? (\r\n            <img\r\n              src={getViewUrl()}\r\n              alt=\"Certificate\"\r\n              style={{ \r\n                maxWidth: '100%', \r\n                maxHeight: '600px', \r\n                objectFit: 'contain',\r\n                border: '1px solid #ddd',\r\n                borderRadius: '5px'\r\n              }}\r\n            />\r\n          ) : (\r\n            <div className=\"unsupported-format\">\r\n              <p>Preview not available for this file type.</p>\r\n              <p>File type: {certificate.fileType}</p>\r\n              <a \r\n                href={`/api/${userRole.toLowerCase()}/certificates/${certificate.certificateId}/download`}\r\n                className=\"btn btn-primary\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Download to View\r\n              </a>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"certificate-viewer-actions\">\r\n          <a\r\n            href={`/api/${userRole.toLowerCase()}/certificates/${certificate.certificateId}/download`}\r\n            className=\"btn btn-primary\"\r\n            download\r\n          >\r\n            Download\r\n          </a>\r\n          <button onClick={onClose} className=\"btn\">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CertificateViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}