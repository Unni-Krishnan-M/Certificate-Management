{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Reeri\\\\OneDrive\\\\Desktop\\\\CSM\\\\frontend\\\\src\\\\components\\\\UI\\\\AuthenticatedPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../../utils/axiosConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthenticatedPreview = ({\n  certificate,\n  userRole,\n  onError\n}) => {\n  _s();\n  var _certificate$fileType, _certificate$fileName;\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  // More robust file type detection\n  const fileType = ((_certificate$fileType = certificate.fileType) === null || _certificate$fileType === void 0 ? void 0 : _certificate$fileType.toLowerCase()) || '';\n  const fileName = ((_certificate$fileName = certificate.fileName) === null || _certificate$fileName === void 0 ? void 0 : _certificate$fileName.toLowerCase()) || '';\n  const isPDF = fileType.includes('pdf') || fileName.endsWith('.pdf');\n  const isImage = fileType.includes('image') || fileType.includes('jpeg') || fileType.includes('jpg') || fileType.includes('png') || fileName.endsWith('.jpg') || fileName.endsWith('.jpeg') || fileName.endsWith('.png');\n  const getFileTypeIcon = fileType => {\n    if (fileType !== null && fileType !== void 0 && fileType.includes('pdf')) return 'üìÑ';\n    if (fileType !== null && fileType !== void 0 && fileType.includes('image')) return 'üñºÔ∏è';\n    return 'üìé';\n  };\n  useEffect(() => {\n    const loadPreview = async () => {\n      try {\n        setLoading(true);\n        setError(false);\n        const token = localStorage.getItem('token');\n        if (!token) {\n          console.warn('No token found for preview');\n          setError(true);\n          setLoading(false);\n          return;\n        }\n        if (!certificate.certificateId) {\n          console.warn('No certificate ID found');\n          setError(true);\n          setLoading(false);\n          return;\n        }\n        const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\n        const url = `${baseUrl}/certificates/${certificate.certificateId}/view`;\n        console.log('Loading preview from:', url);\n        console.log('File type:', certificate.fileType, 'File name:', certificate.fileName);\n\n        // Use axios with proper auth headers\n        const response = await api.get(url, {\n          responseType: 'blob'\n        });\n        if (!response.data || response.data.size === 0) {\n          throw new Error('Empty response from server');\n        }\n        const blobUrl = URL.createObjectURL(response.data);\n        console.log('Preview loaded successfully, blob URL created');\n        setPreviewUrl(blobUrl);\n      } catch (err) {\n        var _err$response;\n        console.error('Preview load error:', err);\n        console.error('Error details:', {\n          message: err.message,\n          response: (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status,\n          certificateId: certificate.certificateId,\n          fileType: certificate.fileType,\n          fileName: certificate.fileName\n        });\n        setError(true);\n        onError === null || onError === void 0 ? void 0 : onError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    // Always try to load preview if we have a certificate ID\n    // The file type check is just for display logic\n    if (certificate.certificateId) {\n      loadPreview();\n    } else {\n      console.warn('No certificate ID, skipping preview load');\n      setLoading(false);\n    }\n\n    // Cleanup function to revoke object URLs\n    return () => {\n      if (previewUrl) {\n        URL.revokeObjectURL(previewUrl);\n        setPreviewUrl(null);\n      }\n    };\n  }, [certificate.certificateId, userRole, certificate.fileType, certificate.fileName]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preview-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner-small\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading preview...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show placeholder if error or if we don't have a preview URL yet\n  if (error || !previewUrl && !loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-icon\",\n        children: getFileTypeIcon(certificate.fileType)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"file-name\",\n          children: certificate.fileName || 'Unknown file'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"file-type\",\n          children: certificate.fileType || 'Unknown type'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-text\",\n            style: {\n              display: 'block',\n              marginBottom: '8px'\n            },\n            children: \"Preview failed to load\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              const token = localStorage.getItem('token');\n              const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\n              const url = `${baseUrl}/certificates/${certificate.certificateId}/view`;\n              // Create a link with auth header\n              const link = document.createElement('a');\n              link.href = url;\n              link.target = '_blank';\n              document.body.appendChild(link);\n              link.click();\n              document.body.removeChild(link);\n            },\n            style: {\n              padding: '6px 12px',\n              fontSize: '12px',\n              background: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"\\uD83D\\uDD0D Open in New Tab\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this);\n  }\n  if (isImage && previewUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-preview-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: previewUrl,\n        alt: certificate.certificateName,\n        className: \"certificate-preview-image\",\n        onError: () => {\n          console.error('Image failed to load:', previewUrl);\n          setError(true);\n          onError === null || onError === void 0 ? void 0 : onError();\n        },\n        onLoad: () => {\n          console.log('Image loaded successfully:', certificate.fileName);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this);\n  }\n  if (isPDF && previewUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdf-preview-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n        src: previewUrl,\n        className: \"certificate-preview-pdf\",\n        title: certificate.certificateName,\n        onError: () => {\n          console.error('PDF failed to load:', previewUrl);\n          setError(true);\n          onError === null || onError === void 0 ? void 0 : onError();\n        },\n        onLoad: () => {\n          console.log('PDF loaded successfully:', certificate.fileName);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pdf-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.open(previewUrl, '_blank'),\n          style: {\n            padding: '8px 16px',\n            background: 'rgba(0,0,0,0.8)',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          },\n          children: \"\\uD83D\\uDCC4 Open PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-placeholder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-icon\",\n      children: getFileTypeIcon(certificate.fileType)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"file-name\",\n        children: certificate.fileName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"file-type\",\n        children: \"No preview available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthenticatedPreview, \"5YqADj0Ci+MKFK011IPHxGFmn84=\");\n_c = AuthenticatedPreview;\nexport default AuthenticatedPreview;\nvar _c;\n$RefreshReg$(_c, \"AuthenticatedPreview\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","AuthenticatedPreview","certificate","userRole","onError","_s","_certificate$fileType","_certificate$fileName","previewUrl","setPreviewUrl","loading","setLoading","error","setError","fileType","toLowerCase","fileName","isPDF","includes","endsWith","isImage","getFileTypeIcon","loadPreview","token","localStorage","getItem","console","warn","certificateId","baseUrl","url","log","response","get","responseType","data","size","Error","blobUrl","URL","createObjectURL","err","_err$response","message","status","revokeObjectURL","className","children","_jsxFileName","lineNumber","columnNumber","style","marginTop","display","marginBottom","onClick","link","document","createElement","href","target","body","appendChild","click","removeChild","padding","fontSize","background","color","border","borderRadius","cursor","src","alt","certificateName","onLoad","title","window","open","_c","$RefreshReg$"],"sources":["C:/Users/Reeri/OneDrive/Desktop/CSM/frontend/src/components/UI/AuthenticatedPreview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../utils/axiosConfig';\r\n\r\nconst AuthenticatedPreview = ({ certificate, userRole, onError }) => {\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n\r\n  // More robust file type detection\r\n  const fileType = certificate.fileType?.toLowerCase() || '';\r\n  const fileName = certificate.fileName?.toLowerCase() || '';\r\n  const isPDF = fileType.includes('pdf') || fileName.endsWith('.pdf');\r\n  const isImage = fileType.includes('image') || \r\n                  fileType.includes('jpeg') || \r\n                  fileType.includes('jpg') || \r\n                  fileType.includes('png') ||\r\n                  fileName.endsWith('.jpg') ||\r\n                  fileName.endsWith('.jpeg') ||\r\n                  fileName.endsWith('.png');\r\n\r\n  const getFileTypeIcon = (fileType) => {\r\n    if (fileType?.includes('pdf')) return 'üìÑ';\r\n    if (fileType?.includes('image')) return 'üñºÔ∏è';\r\n    return 'üìé';\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadPreview = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(false);\r\n\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          console.warn('No token found for preview');\r\n          setError(true);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        if (!certificate.certificateId) {\r\n          console.warn('No certificate ID found');\r\n          setError(true);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\r\n        const url = `${baseUrl}/certificates/${certificate.certificateId}/view`;\r\n        \r\n        console.log('Loading preview from:', url);\r\n        console.log('File type:', certificate.fileType, 'File name:', certificate.fileName);\r\n        \r\n        // Use axios with proper auth headers\r\n        const response = await api.get(url, {\r\n          responseType: 'blob'\r\n        });\r\n\r\n        if (!response.data || response.data.size === 0) {\r\n          throw new Error('Empty response from server');\r\n        }\r\n\r\n        const blobUrl = URL.createObjectURL(response.data);\r\n        console.log('Preview loaded successfully, blob URL created');\r\n        setPreviewUrl(blobUrl);\r\n      } catch (err) {\r\n        console.error('Preview load error:', err);\r\n        console.error('Error details:', {\r\n          message: err.message,\r\n          response: err.response?.status,\r\n          certificateId: certificate.certificateId,\r\n          fileType: certificate.fileType,\r\n          fileName: certificate.fileName\r\n        });\r\n        setError(true);\r\n        onError?.(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    // Always try to load preview if we have a certificate ID\r\n    // The file type check is just for display logic\r\n    if (certificate.certificateId) {\r\n      loadPreview();\r\n    } else {\r\n      console.warn('No certificate ID, skipping preview load');\r\n      setLoading(false);\r\n    }\r\n\r\n    // Cleanup function to revoke object URLs\r\n    return () => {\r\n      if (previewUrl) {\r\n        URL.revokeObjectURL(previewUrl);\r\n        setPreviewUrl(null);\r\n      }\r\n    };\r\n  }, [certificate.certificateId, userRole, certificate.fileType, certificate.fileName]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"preview-loading\">\r\n        <div className=\"loading-spinner-small\"></div>\r\n        <span>Loading preview...</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show placeholder if error or if we don't have a preview URL yet\r\n  if (error || (!previewUrl && !loading)) {\r\n    return (\r\n      <div className=\"file-placeholder\">\r\n        <div className=\"file-icon\">{getFileTypeIcon(certificate.fileType)}</div>\r\n        <div className=\"file-info\">\r\n          <span className=\"file-name\">{certificate.fileName || 'Unknown file'}</span>\r\n          <span className=\"file-type\">{certificate.fileType || 'Unknown type'}</span>\r\n          {error && (\r\n            <div style={{ marginTop: '8px' }}>\r\n              <span className=\"error-text\" style={{ display: 'block', marginBottom: '8px' }}>\r\n                Preview failed to load\r\n              </span>\r\n              <button \r\n                onClick={() => {\r\n                  const token = localStorage.getItem('token');\r\n                  const baseUrl = userRole === 'STUDENT' ? '/api/student' : '/api/staff';\r\n                  const url = `${baseUrl}/certificates/${certificate.certificateId}/view`;\r\n                  // Create a link with auth header\r\n                  const link = document.createElement('a');\r\n                  link.href = url;\r\n                  link.target = '_blank';\r\n                  document.body.appendChild(link);\r\n                  link.click();\r\n                  document.body.removeChild(link);\r\n                }}\r\n                style={{\r\n                  padding: '6px 12px',\r\n                  fontSize: '12px',\r\n                  background: '#3b82f6',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer'\r\n                }}\r\n              >\r\n                üîç Open in New Tab\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isImage && previewUrl) {\r\n    return (\r\n      <div className=\"image-preview-container\">\r\n        <img\r\n          src={previewUrl}\r\n          alt={certificate.certificateName}\r\n          className=\"certificate-preview-image\"\r\n          onError={() => {\r\n            console.error('Image failed to load:', previewUrl);\r\n            setError(true);\r\n            onError?.();\r\n          }}\r\n          onLoad={() => {\r\n            console.log('Image loaded successfully:', certificate.fileName);\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isPDF && previewUrl) {\r\n    return (\r\n      <div className=\"pdf-preview-container\">\r\n        <iframe\r\n          src={previewUrl}\r\n          className=\"certificate-preview-pdf\"\r\n          title={certificate.certificateName}\r\n          onError={() => {\r\n            console.error('PDF failed to load:', previewUrl);\r\n            setError(true);\r\n            onError?.();\r\n          }}\r\n          onLoad={() => {\r\n            console.log('PDF loaded successfully:', certificate.fileName);\r\n          }}\r\n        />\r\n        <div className=\"pdf-overlay\">\r\n          <button \r\n            onClick={() => window.open(previewUrl, '_blank')}\r\n            style={{\r\n              padding: '8px 16px',\r\n              background: 'rgba(0,0,0,0.8)',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            üìÑ Open PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"file-placeholder\">\r\n      <div className=\"file-icon\">{getFileTypeIcon(certificate.fileType)}</div>\r\n      <div className=\"file-info\">\r\n        <span className=\"file-name\">{certificate.fileName}</span>\r\n        <span className=\"file-type\">No preview available</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthenticatedPreview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}